let {intrinsic} = import "std.internal";

pub let Array = {
  prototype: {
    len: intrinsic("array_len"),
    push: intrinsic("array_push"),
    iterator: fn (self) => ({
      self,
      index: 0,
      next: fn (self) => {
        if self.index < self.self.len() {
          let x = self.self[self.index];
          self.index = self.index + 1;
          [x]
        } else {
          []
        }
      }
    })
  }
};
